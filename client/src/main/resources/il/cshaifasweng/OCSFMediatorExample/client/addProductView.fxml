<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>

<BorderPane xmlns="http://javafx.com/javafx/17.0.2-ea" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="il.cshaifasweng.OCSFMediatorExample.client.AddProductController"
            style="-fx-background-color: #f5f5f5;">

    <!-- Header Section -->
    <top>
        <VBox style="-fx-background-color: white; -fx-border-color: #e0e0e0; -fx-border-width: 0 0 1 0;">
            <padding>
                <Insets bottom="25.0" left="30.0" right="30.0" top="25.0" />
            </padding>

            <Label text="Product Management" alignment="CENTER">
                <font>
                    <Font name="System Bold" size="26.0" />
                </font>
                <style>-fx-text-fill: #2c3e50;</style>
            </Label>

            <Label text="Add or update product information" alignment="CENTER">
                <font>
                    <Font size="14.0" />
                </font>
                <style>-fx-text-fill: #6c757d;</style>
                <VBox.margin>
                    <Insets top="8.0" />
                </VBox.margin>
            </Label>
        </VBox>
    </top>

    <!-- Main Content -->
    <center>
        <ScrollPane fitToWidth="true" style="-fx-background-color: transparent;">
            <VBox spacing="25.0">
                <padding>
                    <Insets bottom="30.0" left="40.0" right="40.0" top="30.0" />
                </padding>

                <!-- Product Information Card -->
                <VBox spacing="20.0" style="-fx-background-color: white; -fx-background-radius: 10; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.08), 8, 0, 0, 2);">
                    <padding>
                        <Insets bottom="25.0" left="25.0" right="25.0" top="25.0" />
                    </padding>

                    <Label text="Product Information">
                        <font>
                            <Font name="System Bold" size="18.0" />
                        </font>
                        <style>-fx-text-fill: #495057;</style>
                    </Label>

                    <GridPane hgap="20.0" vgap="18.0">
                        <columnConstraints>
                            <ColumnConstraints hgrow="NEVER" minWidth="130.0" prefWidth="130.0" />
                            <ColumnConstraints hgrow="ALWAYS" minWidth="280.0" />
                        </columnConstraints>

                        <!-- Product Name -->
                        <Label text="Product Name *" GridPane.columnIndex="0" GridPane.rowIndex="0">
                            <font>
                                <Font name="System Bold" size="13.0" />
                            </font>
                            <style>-fx-text-fill: #495057;</style>
                        </Label>
                        <TextField fx:id="nameField" promptText="Enter product name"
                                   style="-fx-background-radius: 6; -fx-border-radius: 6; -fx-border-color: #ced4da; -fx-padding: 10;"
                                   GridPane.columnIndex="1" GridPane.rowIndex="0" />

                        <!-- Product Type -->
                        <Label text="Product Type *" GridPane.columnIndex="0" GridPane.rowIndex="1">
                            <font>
                                <Font name="System Bold" size="13.0" />
                            </font>
                            <style>-fx-text-fill: #495057;</style>
                        </Label>
                        <TextField fx:id="typeField" promptText="Enter product category or type"
                                   style="-fx-background-radius: 6; -fx-border-radius: 6; -fx-border-color: #ced4da; -fx-padding: 10;"
                                   GridPane.columnIndex="1" GridPane.rowIndex="1" />

                        <!-- Product Color -->
                        <Label text="Color:" GridPane.columnIndex="0" GridPane.rowIndex="2">
                            <font>
                                <Font name="System Bold" size="13.0" />
                            </font>
                            <style>-fx-text-fill: #495057;</style>
                        </Label>
                        <ColorPicker fx:id="colorPicker" prefWidth="150.0" prefHeight="35.0"
                                     GridPane.columnIndex="1" GridPane.rowIndex="2" />
                    </GridPane>
                </VBox>

                <!-- Image Selection Card -->
                <VBox spacing="15.0" style="-fx-background-color: white; -fx-background-radius: 10; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.08), 8, 0, 0, 2);">
                    <padding>
                        <Insets bottom="25.0" left="25.0" right="25.0" top="25.0" />
                    </padding>

                    <Label text="Product Image">
                        <font>
                            <Font name="System Bold" size="18.0" />
                        </font>
                        <style>-fx-text-fill: #495057;</style>
                    </Label>

                    <Label text="Select an image file for your product">
                        <font>
                            <Font size="13.0" />
                        </font>
                        <style>-fx-text-fill: #6c757d;</style>
                    </Label>

                    <HBox spacing="15.0" alignment="CENTER_LEFT">
                        <TextField fx:id="imagePathField" promptText="No file selected"
                                   style="-fx-background-radius: 6; -fx-border-radius: 6; -fx-border-color: #ced4da; -fx-padding: 10;"
                                   HBox.hgrow="ALWAYS" />
                        <Button fx:id="browseButton" onAction="#handleBrowseImage"
                                text="Browse Files" prefWidth="120.0" prefHeight="38.0"
                                style="-fx-background-color: #6c757d; -fx-text-fill: white; -fx-background-radius: 6;" />
                    </HBox>
                </VBox>

                <!-- Pricing Information Card -->
                <VBox spacing="20.0" style="-fx-background-color: white; -fx-background-radius: 10; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.08), 8, 0, 0, 2);">
                    <padding>
                        <Insets bottom="25.0" left="25.0" right="25.0" top="25.0" />
                    </padding>

                    <Label text="Pricing Information">
                        <font>
                            <Font name="System Bold" size="18.0" />
                        </font>
                        <style>-fx-text-fill: #495057;</style>
                    </Label>

                    <GridPane hgap="20.0" vgap="18.0">
                        <columnConstraints>
                            <ColumnConstraints hgrow="NEVER" minWidth="130.0" prefWidth="130.0" />
                            <ColumnConstraints hgrow="ALWAYS" minWidth="280.0" />
                        </columnConstraints>

                        <!-- Price -->
                        <Label text="Price *" GridPane.columnIndex="0" GridPane.rowIndex="0">
                            <font>
                                <Font name="System Bold" size="13.0" />
                            </font>
                            <style>-fx-text-fill: #495057;</style>
                        </Label>
                        <HBox spacing="8.0" alignment="CENTER_LEFT" GridPane.columnIndex="1" GridPane.rowIndex="0">
                            <Label text="USD">
                                <font>
                                    <Font name="System Bold" size="14.0" />
                                </font>
                                <style>-fx-text-fill: #495057;</style>
                            </Label>
                            <TextField fx:id="priceField" promptText="0.00" prefWidth="120.0"
                                       style="-fx-background-radius: 6; -fx-border-radius: 6; -fx-border-color: #ced4da; -fx-padding: 10;" />
                        </HBox>

                        <!-- Discount -->
                        <Label text="Discount:" GridPane.columnIndex="0" GridPane.rowIndex="1">
                            <font>
                                <Font name="System Bold" size="13.0" />
                            </font>
                            <style>-fx-text-fill: #495057;</style>
                        </Label>
                        <HBox spacing="8.0" alignment="CENTER_LEFT" GridPane.columnIndex="1" GridPane.rowIndex="1">
                            <TextField fx:id="discountField" text="0" prefWidth="80.0"
                                       style="-fx-background-radius: 6; -fx-border-radius: 6; -fx-border-color: #ced4da; -fx-padding: 10;" />
                            <Label text="percent">
                                <font>
                                    <Font name="System Bold" size="13.0" />
                                </font>
                                <style>-fx-text-fill: #495057;</style>
                            </Label>
                            <Label fx:id="discountInfoLabel" text="(0 for no discount)"
                                   style="-fx-text-fill: #6c757d;" />
                        </HBox>
                    </GridPane>
                </VBox>

                <!-- Status Message -->
                <HBox alignment="CENTER">
                    <Label fx:id="statusLabel" visible="false" wrapText="true" alignment="CENTER"
                           style="-fx-background-color: #d4edda; -fx-background-radius: 6; -fx-padding: 12; -fx-border-color: #c3e6cb; -fx-border-radius: 6;">
                        <font>
                            <Font size="13.0" />
                        </font>
                    </Label>
                </HBox>
            </VBox>
        </ScrollPane>
    </center>

    <!-- Footer with Action Buttons -->
    <bottom>
        <VBox style="-fx-background-color: white; -fx-border-color: #e0e0e0; -fx-border-width: 1 0 0 0;">
            <padding>
                <Insets bottom="25.0" left="30.0" right="30.0" top="25.0" />
            </padding>

            <HBox alignment="CENTER" spacing="20.0">
                <Button fx:id="saveButton" onAction="#handleSaveProduct"
                        text="Create Product" prefWidth="150.0" prefHeight="42.0"
                        style="-fx-background-color: #28a745; -fx-text-fill: white; -fx-background-radius: 8; -fx-font-size: 14; -fx-font-weight: bold;" />

                <Button fx:id="cancelButton" onAction="#handleCancel"
                        text="Cancel" prefWidth="150.0" prefHeight="42.0"
                        style="-fx-background-color: transparent; -fx-text-fill: #6c757d; -fx-border-color: #6c757d; -fx-border-width: 2; -fx-background-radius: 8; -fx-border-radius: 8; -fx-font-size: 14;" />
            </HBox>

            <!-- Required Fields Note -->
            <Label text="* Required fields" alignment="CENTER" style="-fx-text-fill: #6c757d;">
                <font>
                    <Font size="12.0" />
                </font>
                <VBox.margin>
                    <Insets top="15.0" />
                </VBox.margin>
            </Label>
        </VBox>
    </bottom>

</BorderPane>